<div *ngIf="task$ | async as task" class="task">
    <label class="check__label" [for]="task.id">
        <input class="hidden__checkbox" type="checkbox" name="" [id]="task.id" (change)="task.isChecked = !task.isChecked" />

        <div [class]="'custom__check' + ' p' + task.priority" [ngClass]="{ _active: task.isChecked }">
            <svg-wp-tick *ngIf="task.isChecked" [activeWhite]="task.priority !== 4"></svg-wp-tick>
        </div>
    </label>
    <!-- checkbox label -->

    <div class="task__main">
        <div class="task__text">{{ task.name }}</div>

        <div class="task__desc">{{ task.description }}</div>

        <!-- todo : do tasklate functional -->
        <!-- <div class="task__late">
            <svg-wp-task-late></svg-wp-task-late>

            <div class="task_late__text">15 Oct</div>
        </div> -->
    </div>

    <div class="icons__container" [ngClass]="{ _visible: areControlsVisible }">
        <div class="icon__wrapper">
            <svg-wp-task-edit></svg-wp-task-edit>
        </div>

        <div class="icon__wrapper">
            <svg-wp-task-schedule></svg-wp-task-schedule>
        </div>

        <div class="icon__wrapper" (click)="dropMenu.toggleIsVisible(); areControlsVisible = true">
            <svg-wp-task-more></svg-wp-task-more>

            <ui-menu-dropdown
                #dropMenu
                class="more__dropdown"
                [dropdownSchema]="dropdownSchema"
                (itemClickEvent)="dropdownEventRecivier($event)"
                (changePriorityEvent)="setPriority($event)"
                (closeEvent)="areControlsVisible = false"
            ></ui-menu-dropdown>
        </div>
    </div>

    <svg-wp-task-drag></svg-wp-task-drag>

    <div class="bottom__bar"></div>
</div>
